@using System.Web.Script.Serialization
@using Newtonsoft.Json
@using WebApplication.Models

@{
    ViewBag.Title = "Dashboard v1";

    var dataList1 = new List<VideoGraphData>();
    foreach (var m in Model.AspVideoAnalysisSegments)
    {
        var data = new VideoGraphData();
        data.y = m.VideoSegmentIndex.ToString();
        data.item1 = m.Anger;
        data.item2 = m.Contempt;
        data.item3 = m.Disgust;
        data.item4 = m.Fear;
        data.item5 = m.Happiness;
        data.item6 = m.Neutral;
        data.item7 = m.Sadness;
        data.item8 = m.Surprise;
        dataList1.Add(data);
    }

    var jsonSerializer = new JavaScriptSerializer();
    var videoGraph = jsonSerializer.Serialize(dataList1);

    var dataList2 = new List<TextGraphData>();
    foreach (var m in Model.AspTextAnalisysSegments)
    {
        var data = new TextGraphData();
        data.y = m.TextSegmentIndex.ToString();
        data.item1 = m.Anger.ToString();
        data.item2 = m.Disgust.ToString();
        data.item3 = m.Fear.ToString();
        data.item4 = m.Joy.ToString();
        data.item5 = m.Sadness.ToString();
        dataList2.Add(data);
    }

    var textGraph = jsonSerializer.Serialize(dataList2);

    var dataList3 = new List<SoundGraphData>();
    foreach (var m in Model.AspSoundAnalisysSegments)
    {
        var data = new SoundGraphData();
        data.y = m.SoundSegmentIndex.ToString();
        data.item1 = m.TemperVal.ToString();
        data.item2 = m.ValenceVal.ToString();
        data.item3 = m.ArousalVal.ToString();
        dataList3.Add(data);
    }

    var soundGraph = jsonSerializer.Serialize(dataList3);

}

@section Menu {
    @Scripts.Render("~/Scripts/Home/DashboardV1/menu")
}

<script>
    var modelId = @Html.Raw(Json.Encode(Model.VideoId));
    var modelVideo = @Html.Raw(videoGraph);
    console.log(modelVideo);
    var modelText = @Html.Raw(textGraph);
    console.log(modelText);
    var modelSound = @Html.Raw(soundGraph);
    console.log(modelSound);

</script>

@Styles.Render("~/AdminLTE/plugins/morris/css")
@Styles.Render("~/AdminLTE/plugins/jvectormap/css")
@Styles.Render("~/AdminLTE/plugins/datepicker/css")
@Styles.Render("~/AdminLTE/plugins/daterangepicker/css")
@Styles.Render("~/AdminLTE/plugins/bootstrap-wysihtml5/css")

<div class="row">
    <div class="col-xs-12">
        <div class="box box-solid">
            <div class="box-header">
                <i class="fa fa-bar-chart-o"></i>
                <h3 class="box-title">Main Sentiments</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-default btn-sm" data-widget="collapse">
                        <i class="fa fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-default btn-sm" data-widget="remove">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="timeline-item">
                            <h4 class="timeline-header videoHeader">
                                <a href="https://www.youtube.com/channel/@Model.ChannelId"> @Model.ChannelTitle</a> shared a video
                            </h4>
                            <span class="time">
                                <i class="fa fa-clock-o"> @Model.PublishedAt</i>
                            </span>
                            <div class="timeline-body">
                                <div class="embed-responsive embed-responsive-16by9">
                                    <div id="youtubeFrame"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="row">
                            <div class="col-md-6 col-md-offset-3">
                                <i class="fa fa-smile-o fa-5x" aria-hidden="true" style="color: green"></i>
                                <i class="fa fa-frown-o fa-5x" aria-hidden="true" style="color: red"></i>
                                <i class="fa fa-meh-o fa-5x" aria-hidden="true"></i>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="col-xs-6 col-md-3">
                                    <input type="text" class="knob" value="-80" data-min="-150" data-max="150" data-width="90" data-height="90" data-fgColor="#00a65a">
                                    <div class="knob-label">Server Load</div>
                                </div>
                                <div class="col-xs-6 col-md-3">
                                    <input type="text" class="knob" value="40" data-width="90" data-height="90" data-fgColor="#00c0ef">
                                    <div class="knob-label">Disk Space</div>
                                </div>
                                <div class="col-xs-6 col-md-3">
                                    <input type="text" class="knob" value="50" data-width="90" data-height="90" data-fgColor="#39CCCC">
                                    <div class="knob-label">CPU</div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">
                                <div class="chart-responsive">
                                    <canvas id="pieChart" height="150"></canvas>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <ul class="chart-legend clearfix">
                                    <li><i class="fa fa-circle-o text-red"></i> Chrome</li>
                                    <li><i class="fa fa-circle-o text-green"></i> IE</li>
                                    <li><i class="fa fa-circle-o text-yellow"></i> FireFox</li>
                                    <li><i class="fa fa-circle-o text-aqua"></i> Safari</li>
                                    <li><i class="fa fa-circle-o text-light-blue"></i> Opera</li>
                                    <li><i class="fa fa-circle-o text-gray"></i> Navigator</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<div class="row">
    <div class="col-xs-12">
        <div class="box box-solid">
            <div class="box-header">
                <i class="fa fa-bar-chart-o"></i>
                <h3 class="box-title">Video Analisys</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-default btn-sm" data-widget="collapse">
                        <i class="fa fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-default btn-sm" data-widget="remove">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="nav-tabs-custom">
                            <div class="chart tab-pane active" id="videoEmotion-chart" style="position: relative; height: 300px;"></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="chart tab-pane" id="videoEmotion-donut" style="position: relative; height: 300px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-xs-12">
        <div class="box box-solid">
            <div class="box-header">
                <i class="fa fa-bar-chart-o"></i>
                <h3 class="box-title">Video Analisys</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-default btn-sm" data-widget="collapse">
                        <i class="fa fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-default btn-sm" data-widget="remove">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="nav-tabs-custom">
                            <div class="chart tab-pane active" id="textEmotion-chart" style="position: relative; height: 300px;"></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="chart tab-pane" id="textEmotion-donut" style="position: relative; height: 300px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-xs-12">
        <div class="box box-solid">
            <div class="box-header">
                <i class="fa fa-bar-chart-o"></i>
                <h3 class="box-title">Video Analisys</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-default btn-sm" data-widget="collapse">
                        <i class="fa fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-default btn-sm" data-widget="remove">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="nav-tabs-custom">
                            <div class="chart tab-pane active" id="soundEmotion-chart" style="position: relative; height: 300px;"></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="chart tab-pane" id="soundEmotion-donut" style="position: relative; height: 300px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    @Scripts.Render("~/AdminLTE/plugins/jquery-ui/js")
    <script>
        $.widget.bridge('uibutton', $.ui.button);
    </script>

    @Scripts.Render("~/AdminLTE/plugins/bootstrap-wysihtml5/js")
    @Scripts.Render("~/AdminLTE/plugins/sparkline/js")
    @Scripts.Render("~/AdminLTE/plugins/jvectormap/js")
    @Scripts.Render("~/AdminLTE/plugins/daterangepicker/js")
    @Scripts.Render("~/AdminLTE/plugins/knob/js")
    @Scripts.Render("~/AdminLTE/plugins/raphael/js")
    @Scripts.Render("~/AdminLTE/plugins/morris/js")
    @Scripts.Render("~/AdminLTE/plugins/chartjs/js")
    @Scripts.Render("~/AdminLTE/plugins/datepicker/js")
    @Scripts.Render("~/Scripts/Home/DashboardV1")
}